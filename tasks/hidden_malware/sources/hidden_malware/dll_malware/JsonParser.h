#pragma once

#include <string>

#include <boost/property_tree/ptree.hpp>
#include <boost/property_tree/json_parser.hpp>

namespace pt = boost::property_tree;

class JsonParser
{
public:
	template <class TypeOut>
	static TypeOut extract_json(std::string data, std::string path)
	{
		pt::ptree root;
		try {
			std::stringstream ss;
			ss << data;
			pt::read_json(ss, root);
			return root.get<TypeOut>(path);
		}
		catch (pt::ptree_bad_path& e)
		{
			return NULL;
		}
	}


};

